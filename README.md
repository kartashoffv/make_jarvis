# make own jarvis
## [DEMO](https://github.com/kartashoffv/make_jarvis/blob/main/demo.mp4)
## Сервис представляет собой агента, способного разговаривать с пользователем, а также делает RAG для подгруженных документов.

#### В коре сервиса используются агент на базе LLM (OpenAI) с функционирующим function calling на задачу RAG для подгруженных документов. Для speech recognition идет google (необходим доступ в интернет) и/или whisper (доступен оффлайн). Для синтеза речи используется решение на базе API Elevenlabs.

# Usage
#### Для начала использования устанавливаются все зависимости, затем запускается файл src/main.py (требуются ключи к API от Open AI & Elevenlabs) - они размещаются в .env проекта. Также необходимо подредактировать пути к файлам или прописать BASE_PATH для доступа к полному пути до файлов.

Чтобы подгрузить собственные документы для RAG, необходимо запустить src/utils/doc2vec_db.py с указанием пути к директории (CLI пока не поддерживается, запуск происходит путем инициализации класса и выбора метода). Для добавления файлов и их удаления также используются методы add_docs и remove_docs, соответственно, в качестве методов у которых передаются аргументы с путем к файлам. В качестве эмбеддеров для документов по умолчанию доступны openai embeddings, а также множество open-source решений из [списка](https://huggingface.co/sentence-transformers). 


# О проекте

Для организации базы знаний была использована chromadb. 

В качестве wake word используется слово "Сима". Логика работы скрипта начнется только после того, как пользователь скажет wake word. Основная логика диалога заключается в свободном общении пользователя и бота, при этом бот не ограничен знаниями из подгруженной базы знаний - он может общаться на отвлеченные темы. Помимо этог, у системы имеется возможность остановить основную логику работы путем проговаривания стоп-слова "Стоп" - в данном случае последующие реплики не будут идти через модель.   

Технология lip sync в данном проекте не используется.
